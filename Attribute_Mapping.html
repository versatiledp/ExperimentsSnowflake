
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Attribute Mapping &#8212; Experiments with Snowflake 9/28/2020 documentation</title>
    <link rel="stylesheet" href="static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/my.css" type="text/css" />
    <link rel="stylesheet" href="static/copybutton.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <script src="static/language_data.js"></script>
    <script src="static/clipboard.min.js"></script>
    <script src="static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CSV Ingestion" href="CSV_Ingestion.html" />
    <link rel="prev" title="Ingesting Snowflake Stage" href="Ingesting_Snowflake_Stage.html" />
   
  <link rel="stylesheet" href="static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="attribute-mapping">
<h1>Attribute Mapping<a class="headerlink" href="#attribute-mapping" title="Permalink to this headline">¶</a></h1>
<div class="section" id="academic-institution">
<h2>Academic Institution<a class="headerlink" href="#academic-institution" title="Permalink to this headline">¶</a></h2>
<p>Institutional Characteristics Header files [HDR] are in CSV format.
These files are directly ingested into Snowflake staging from the source system.
ELT layer defines the schema for the CSV file with data types.
The following diagram displays mapping between the CSV attribute and the stage layer.
The OD layer is used to process data for destination layer with additional transformations.</p>
<div class="figure align-default">
<img alt="images/csvIngestion.jpg" src="images/csvIngestion.jpg" />
</div>
</div>
<div class="section" id="enrollment">
<h2>Enrollment<a class="headerlink" href="#enrollment" title="Permalink to this headline">¶</a></h2>
<p>Enrollment files [EFFY] are in JSON format. JSON is an open standard file format, and data interchange format, that uses human-readable text to store and transmit data objects consisting of attribute–value pairs and array data types. It is a very common data format, with a diverse range of applications, such as serving as a replacement for XML in AJAX systems.
In our use case – we are assuming Enrollment files are ingested (EFFY files) in the JSON format directly to Snowflake.
ELT layer defines the mapped attributes for JSON attributes with data types. The following diagram displays mapping between JSON attribute and stage layer. The Stage layer is used to process data for the destination layer with additional transformation.</p>
<div class="figure align-center">
<img alt="images/jsonIngestion.jpg" src="images/jsonIngestion.jpg" />
</div>
</div>
<div class="section" id="institutional-charges">
<h2>Institutional Charges<a class="headerlink" href="#institutional-charges" title="Permalink to this headline">¶</a></h2>
<p>Institutional Charges [IC] dataset is in the ORC formt. The Optimized Row Columnar (ORC) file format provides a highly efficient way to store Hive data. Using ORC files improves performance when Hive is reading, writing, and processing data. It ideally stores data in compact form and enables skipping over irrelevant parts without the need for large, complex, or manually maintained indices.
In our use case, – we are assuming Institutional Charge text files are ingested (ICAY files) in HDFS. They are processed through Hive. Output of the big data processing (ORC files) are used to load in Snowflake.
ELT layer defines the schema for ORC file with data types. The following diagram displays mapping between the ORC attribute and the stage layer. The stage layer is used to process data for the destination layer with additional transformations and normalization.</p>
<div class="figure align-center">
<img alt="images/orcIngestion.jpg" src="images/orcIngestion.jpg" />
</div>
</div>
<div class="section" id="admission-data">
<h2>Admission data<a class="headerlink" href="#admission-data" title="Permalink to this headline">¶</a></h2>
<p>Admission data [ADM] files are available in the Parquet data format.
Parquet, an open-source file format for Hadoop stores nested data structures in a flat columnar format.
Compared to a traditional approach where data is stored in a row-oriented approach, Parquet is more efficient
in terms of storage and performance. It is especially useful for queries that read specific columns from a wide table.
Parquet provides optimizations to speed up queries. Parquet is a far more efficient file format than CSV or JSON, supported by many
data processing systems. Spark SQL provides support for both reading and writing Parquet files that automatically
capture the schema of the original data. The following diagram lays out the architecture from data source to Parquet file.
In our use case – we are assuming - IPEDs admission data text files are ingested (ADM files) in HDFS and processed through the Spark.
Output of the spark processing (Parquet files) are used to process in Snowflake.
ELT layer defines the schema for Parquet file with data types. The following diagram displays mapping between
the Parquet attribute and the stage layer. The stage layer is used to process data for the final destination layer with additional transformations.</p>
<div class="figure align-center">
<img alt="images/parquetIngestion.jpg" src="images/parquetIngestion.jpg" />
</div>
</div>
<div class="section" id="reference-lookup-data">
<h2>Reference/lookup data<a class="headerlink" href="#reference-lookup-data" title="Permalink to this headline">¶</a></h2>
<p>Code value lookup files are CSV formatted. These files are directly ingested into Snowflake staging from source system.
ELT layer defines the schema for the CSV file with data types.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Data from the source systems goes through multiple data processing layers in transactional and big data platforms. That results into
varieties of data files in the multiple data formats. We need to map those data files into analytical meta data layer. This chapter
summarize all data formats we will be dealing in the processing layer of analytical data platform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mapping between the source system and Snowflake meta data is at:
<a class="reference external" href="https://versatiledp.github.io/ExperimentsSnowflake/Mapping/AcademicInstitute.htm">ExperimentsSnowflake/Mapping/AcademicInstitute</a>
<a class="reference external" href="https://versatiledp.github.io/ExperimentsSnowflake/Mapping/Enrollment.htm">ExperimentsSnowflake/Mapping/Enrollment</a>
<a class="reference external" href="https://versatiledp.github.io/ExperimentsSnowflake/Mapping/InstitutionCharges.htm">ExperimentsSnowflake/Mapping/InstitutionCharges</a>
<a class="reference external" href="https://versatiledp.github.io/ExperimentsSnowflake/Mapping/AdmissionStat.htm">ExperimentsSnowflake/Mapping/AdmissionStat</a>
<a class="reference external" href="https://versatiledp.github.io/ExperimentsSnowflake/Mapping/CodeValue.htm">ExperimentsSnowflake/Mapping/CodeValue</a></p>
<dl class="simple">
<dt>Go to:</dt><dd><p><a class="reference external" href="./CSV_Ingestion.html">Next Chapter</a>
<a class="reference external" href="./Ingesting_Snowflake_Stage.html">Previous Chapter</a>
<a class="reference external" href="./index.html">Table of Content</a></p>
</dd>
</dl>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Experiments with Snowflake</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="snowflake_and_DP_overview.html">Snowflake &amp; Data Platform Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_Load_Software.html">Data Load Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Snowflake_Staged_Area.html">Snowflake Staged Area</a></li>
<li class="toctree-l1"><a class="reference internal" href="Project_Data_Source.html">Project Data Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ingesting_Snowflake_Stage.html">Ingesting Snowflake Stage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Attribute Mapping</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#academic-institution">Academic Institution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enrollment">Enrollment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#institutional-charges">Institutional Charges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#admission-data">Admission data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference-lookup-data">Reference/lookup data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CSV_Ingestion.html">CSV Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSON_Ingestion.html">JSON Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORC_Ingestion.html">ORC Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="Parquet_Ingestion.html">Parquet Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="Semi_structured_data_Load.html">Semi-structured data Load</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pipeline_Orchestration.html">Pipeline Orchestration</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Ingesting_Snowflake_Stage.html" title="previous chapter">Ingesting Snowflake Stage</a></li>
      <li>Next: <a href="CSV_Ingestion.html" title="next chapter">CSV Ingestion</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>