
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Data Source &#8212; Experiments with Snowflake 9/28/2020 documentation</title>
    <link rel="stylesheet" href="static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/my.css" type="text/css" />
    <link rel="stylesheet" href="static/copybutton.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script src="static/jquery.js"></script>
    <script src="static/underscore.js"></script>
    <script src="static/doctools.js"></script>
    <script src="static/language_data.js"></script>
    <script src="static/clipboard.min.js"></script>
    <script src="static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Ingesting Snowflake Stage" href="Ingesting_Snowflake_Stage.html" />
    <link rel="prev" title="Snowflake Staged Area" href="Snowflake_Staged_Area.html" />
   
  <link rel="stylesheet" href="static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="project-data-source">
<h1>Project Data Source<a class="headerlink" href="#project-data-source" title="Permalink to this headline">¶</a></h1>
<p>The Institute of Education Sciences (IES) is the statistics, research, and evaluation arm of the U.S. Department
of Education. IES is independent and non-partisan. IES mission is to provide scientific evidence on which to ground education practice and policy and to share this information in formats that are useful and accessible to educators, parents, policymakers, researchers, and the public.</p>
<p>This book is designed to use data from IES and build analytics engine to answer business questions for the corporation.</p>
<p>Integrated Postsecondary Education Data System (IPEDS) - URL : <a class="reference external" href="https://nces.ed.gov/ipeds/">https://nces.ed.gov/ipeds/</a>
is the primary source from IES for the information on U.S. colleges, universities, and technical and vocational institutions.</p>
<ul class="simple">
<li><p>We are tasked to ingest variety of data formats</p></li>
<li><p>Tranform data for business users</p></li>
<li><p>Build data pipeline to process data on perodic basis</p></li>
<li><p>Create descriptive analytics around the use cases laid out by the business</p></li>
</ul>
<p>All of the data used in this book is downloaded from - URL : <a class="reference external" href="https://nces.ed.gov/ipeds/use-the-data">https://nces.ed.gov/ipeds/use-the-data</a></p>
<div class="figure align-center">
<img alt="images/IPEDSScreenShot.png" src="images/IPEDSScreenShot.png" />
</div>
<p>Data is downloaded for the three academic years (2017, 2018, and 2019).</p>
<p>Disclaimer – We have modified this data to explain Snowflake functionality. Analytics results in this book are
used to showcase and learn Snowflake features.
<strong>Analytics results from this book should not be used to perform research on the institutions. Please refer to IES website for  statistics and research for Academic Institutions.</strong></p>
<div class="section" id="data-flow-process">
<h2>Data flow process<a class="headerlink" href="#data-flow-process" title="Permalink to this headline">¶</a></h2>
<p>For this project in the book, we will be following four building block of data transformation layers.</p>
<div class="section" id="staged-file">
<h3>Staged file<a class="headerlink" href="#staged-file" title="Permalink to this headline">¶</a></h3>
<p>All the data from the source system will be brought into the internal Staged file location of the Snowflake.
There is no transformation applied on this dataset. It is the purest form data from the transactional system and existing big data platforms.</p>
</div>
<div class="section" id="operation-datastore-od">
<h3>Operation datastore (OD)<a class="headerlink" href="#operation-datastore-od" title="Permalink to this headline">¶</a></h3>
<p>These are first level of physical table created in the Snowflake. Data from staged file is transformed to very basic minimum needs.
OD table structure is very close resembles of staged file with proper data type and column names.
Additional columns to help track on data lineage.</p>
</div>
<div class="section" id="servicing-layer-entities">
<h3>Servicing layer entities<a class="headerlink" href="#servicing-layer-entities" title="Permalink to this headline">¶</a></h3>
<p>This is the final destination for transformed data available for business intelligence layer. OD tables are used as input source to populate the
servicing layer tables.</p>
</div>
<div class="section" id="dataflow-summary">
<h3>Dataflow Summary<a class="headerlink" href="#dataflow-summary" title="Permalink to this headline">¶</a></h3>
<p>Not all data from OD tables may land up in the servicing layer. Normally business users would want to use the tools like PowerBI, Tableau, and
perform raw queries on the dataset. Best place for the business users to perform these analytics is the service layer.
Data Science may need data attributes not in the service layer to build predictive analytics. They can be granted access to OD tables and
service layer entities. Data engineering needs to create transformation, perform meta data management, keep track of data pipelines so the access should be
granted to the all areas of data flow entities.</p>
<p>The below diagram shows the data flow process between files and the staging table. In this case, the stored procedures are used to load data from staged files to staging tables.</p>
<div class="figure align-center">
<img alt="images/ingestionlayout.png" src="images/ingestionlayout.png" />
</div>
</div>
</div>
<div class="section" id="book-datasource">
<h2>Book Datasource<a class="headerlink" href="#book-datasource" title="Permalink to this headline">¶</a></h2>
<p>The files used in this book are:</p>
<div class="section" id="institutional-characteristics-files-hdr">
<h3>Institutional Characteristics files [HDR]<a class="headerlink" href="#institutional-characteristics-files-hdr" title="Permalink to this headline">¶</a></h3>
<p>This file contains directory information for every institution in the IPEDS universe.
It includes name, address, city, state, zip code and various URL links to the institution’s home page,
admissions, financial aid offices and the net price calculator.</p>
</div>
<div class="section" id="month-enrollment-effy">
<h3>12-Month Enrollment [EFFY]<a class="headerlink" href="#month-enrollment-effy" title="Permalink to this headline">¶</a></h3>
<p>This file contains the unduplicated headcount of students enrolled over a
12-month period for both undergraduate and graduate levels. Each record is
uniquely defined by the variables IPEDS ID, and the level of enrollment.</p>
</div>
<div class="section" id="admissions-and-test-scores-adm">
<h3>Admissions and Test Scores [ADM]<a class="headerlink" href="#admissions-and-test-scores-adm" title="Permalink to this headline">¶</a></h3>
<p>This file contains information about the undergraduate selection process
for entering first-time, degree/certificate-seeking students.</p>
</div>
<div class="section" id="student-charges-for-academic-year-programs-ic-ay">
<h3>Student charges for academic year programs [IC*AY]<a class="headerlink" href="#student-charges-for-academic-year-programs-ic-ay" title="Permalink to this headline">¶</a></h3>
<p>This file contains data on student charges for a full academic year. The price of attendance includes
amounts for published tuition and required fees, books and supplies, room and board and other expenses.</p>
</div>
<div class="section" id="code-mapping-data">
<h3>Code Mapping Data<a class="headerlink" href="#code-mapping-data" title="Permalink to this headline">¶</a></h3>
<p>This is semi structured dataset with special character delimeter. One file holds data for multiple destination table. Based on the value
of the first column in the file, destination table is identified.</p>
</div>
</div>
<div class="section" id="data-collection-notes">
<h2>Data collection notes<a class="headerlink" href="#data-collection-notes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Original text delimited data in</p></li>
<li><p>EFFY file is converted to JSON format</p></li>
<li><p>ADM file is converted to Parquet format</p></li>
<li><p>IC*AY file is converted to ORC format</p></li>
<li><p>There is no change in the HDR file format (CSV format)</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Utilities used to convert the original CSV files into different data formats are available to download at: <a class="reference external" href="https://github.com/versatiledp/ExperimentsSnowflake/tree/main/utilities">https://github.com/versatiledp/ExperimentsSnowflake/tree/main/utilities</a></p>
<p>All the datafiles used throughout the books are available to download at:</p>
<p><a class="reference external" href="https://github.com/versatiledp/ExperimentsSnowflake/tree/main/data/input">https://github.com/versatiledp/ExperimentsSnowflake/tree/main/data/input</a></p>
</div>
<p>After downloading the files, copy to the folder C:\Snowflake\data\input\.
The files in this book are loaded from local folder (like C:\Snowflake\data\input\*.*) to the Snowflake stage area using SnowSQL CLI.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>We receive data files in various formats like CSV, ORC, Parquet, and JSON. These files are available in the folders by year. They are brought into the Snowflake staged files using the PUT command. Each staged file contains the entire data for that specific year. From these staged files, OD tables are populated. OD tables are physical tables in a Snowflake database.
Using these OD tables, servicing layer tables of data-warehouse are populated. Snowflake stored procedures, views and functions are used for ETL/ELT processes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>Go to:</dt><dd><p><a class="reference external" href="./Ingesting_Snowflake_Stage.html">Next Chapter</a>
<a class="reference external" href="./Snowflake_Staged_Area.html">Previous Chapter</a>
<a class="reference external" href="./index.html">Table of Content</a></p>
</dd>
</dl>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Experiments with Snowflake</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="snowflake_and_DP_overview.html">Snowflake &amp; Data Platform Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_Load_Software.html">Data Load Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Snowflake_Staged_Area.html">Snowflake Staged Area</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Project Data Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-flow-process">Data flow process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#staged-file">Staged file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operation-datastore-od">Operation datastore (OD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#servicing-layer-entities">Servicing layer entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataflow-summary">Dataflow Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#book-datasource">Book Datasource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#institutional-characteristics-files-hdr">Institutional Characteristics files [HDR]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#month-enrollment-effy">12-Month Enrollment [EFFY]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#admissions-and-test-scores-adm">Admissions and Test Scores [ADM]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#student-charges-for-academic-year-programs-ic-ay">Student charges for academic year programs [IC*AY]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-mapping-data">Code Mapping Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-collection-notes">Data collection notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Ingesting_Snowflake_Stage.html">Ingesting Snowflake Stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="Attribute_Mapping.html">Attribute Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSV_Ingestion.html">CSV Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="JSON_Ingestion.html">JSON Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="ORC_Ingestion.html">ORC Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="Parquet_Ingestion.html">Parquet Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="Semi_structured_data_Load.html">Semi-structured data Load</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pipeline_Orchestration.html">Pipeline Orchestration</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Snowflake_Staged_Area.html" title="previous chapter">Snowflake Staged Area</a></li>
      <li>Next: <a href="Ingesting_Snowflake_Stage.html" title="next chapter">Ingesting Snowflake Stage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>